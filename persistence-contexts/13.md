CascadeType 参见 [org.hibernate.annotations.CascadeType](/api/org/hibernate/annotations/CascadeType.md)


src/main/resources/META-INF/persistence.xml
```xml
<persistence xmlns="http://xmlns.jcp.org/xml/ns/persistence" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/persistence
             http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd"
  version="2.1">
  <persistence-unit name="test">
    <properties>
      <property name="javax.persistence.jdbc.url" value="jdbc:p6spy:postgresql://localhost:5432/test" />
      <property name="javax.persistence.jdbc.user" value="postgres" />
      <property name="javax.persistence.jdbc.password" value="postgres" />

      <property name="javax.persistence.schema-generation.database.action" value="drop-and-create" />
    </properties>
  </persistence-unit>
</persistence>
```


# CascadeType.PERSIST
```java
package org.example.demo;

import java.util.ArrayList;
import java.util.List;

import javax.persistence.CascadeType;
import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.EntityManager;
import javax.persistence.EntityManagerFactory;
import javax.persistence.FetchType;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;
import javax.persistence.ManyToOne;
import javax.persistence.OneToMany;
import javax.persistence.Persistence;

public class Test {
    public static void main(String[] args) {
        EntityManagerFactory factory = Persistence.createEntityManagerFactory("test");
        EntityManager em = factory.createEntityManager();

        Person person = new Person();
        person.name = "john doe";

        Phone phone = new Phone();
        phone.number = "123-456-7890";

        person.phones.add(phone);
        phone.owner = person;

        em.getTransaction().begin();
        em.persist(person);
        em.getTransaction().commit();

        em.close();
        factory.close();
    }

    @Entity(name = "Person")
    public static class Person {
        @Id
        @GeneratedValue
        Integer id;
        String name;
        @OneToMany(mappedBy = "owner", cascade = CascadeType.PERSIST)
        List<Phone> phones = new ArrayList<>();
    }

    @Entity(name = "Phone")
    public static class Phone {
        @Id
        @GeneratedValue
        private Long id;
        @Column(name = "`number`")
        private String number;
        @ManyToOne(fetch = FetchType.LAZY)
        private Person owner;
    }
}
```


生成的 SQL
```sql
alter table Phone drop constraint FK82m836qc1ss2niru7eogfndhl
drop table if exists Person cascade
drop table if exists Phone cascade
drop sequence if exists hibernate_sequence

create sequence hibernate_sequence start 1 increment 1
create table Person (id int4 not null, name varchar(255), primary key (id))
create table Phone (id int8 not null, "number" varchar(255), owner_id int4, primary key (id))
alter table Phone add constraint FK82m836qc1ss2niru7eogfndhl foreign key (owner_id) references Person
select nextval ('hibernate_sequence')
select nextval ('hibernate_sequence')
insert into Person (name, id) values ('john doe', 1)
insert into Phone ("number", owner_id, id) values ('123-456-7890', 1, 2)
```


# CascadeType.MERGE
```java

```


生成的 SQL
```sql
```
